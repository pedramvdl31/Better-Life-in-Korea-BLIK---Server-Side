{"version":3,"file":"embed.js","sources":["js/modules/utils.js","js/modules/template.js","js/modules/regex.js","js/modules/emoticons/emoji.js","js/modules/emoticons/smiley.js","js/modules/url.js","../node_modules/fetch-jsonp/build/fetch-jsonp.js","js/helpers/template.js","js/helpers/playVideo.js","js/helpers/getDetailsTemplate.js","js/helpers/applyVideoJS.js","js/helpers/destroyVideos.js","js/helpers/embed.js","js/modules/Base.js","js/helpers/baseEmbed.js","js/helpers/asyncEmbed.js","js/modules/twitter/twitter.js","../node_modules/whatwg-fetch/fetch.js","js/modules/map/map.js","js/modules/markdown.js","js/modules/code/highlight.js","js/modules/code/gist.js","js/modules/video/youtube.js","js/modules/video/vimeo.js","js/modules/image/slideshare.js","js/modules/openGraph.js","js/modules/github.js","js/main.js"],"sourcesContent":["/**\n * Trucates the string and adds ellipsis at the end.\n * @param string        The string to be truncated\n * @param n             Length to which it should be truncated\n * @returns {string}    The truncated string\n */\nexport function truncate(string, n) {\n    return string.substr(0, n - 1) + (string.length > n ? '...' : '');\n}\n\n/**\n * Returns an array after removing the duplicates.\n * @param array         The array containing the duplicates\n * @returns {Array}     Array with unique values.\n */\nexport function getUnique(array) {\n    var u = {},\n        a = [];\n\n    array.forEach((value) => {\n        if (!u.hasOwnProperty(value)) {\n            a.push(value);\n            u[value] = 1;\n        }\n    });\n    return a;\n}\n\n/**\n * Converts a string into legitimate url.\n * @param string\n */\nexport function toUrl(string) {\n    return (string.indexOf('//') === -1) ? ('//' + string) : string\n}\n\n/**\n * Extends an Object\n * @param destination\n * @param source\n * @returns {*}\n */\nexport function deepExtend(destination, source) {\n    for (var property in source) {\n        if (source.hasOwnProperty(property) && source[property] && source[property].constructor === Object) {\n            destination[property] = destination[property] || {};\n            deepExtend(destination[property], source[property]);\n        } else {\n            destination[property] = source[property];\n        }\n    }\n    return destination;\n}\n\nexport function escapeRegExp(str) {\n    return str.replace(/[\\-\\[\\]\\/\\{}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, '\\\\$&');\n}\n\n/**\n * Sort an array of objects based on the index value\n * @param  {Array} arr Array to be sorted\n * @return {Array}     Sorted array\n */\nfunction sortObject(arr) {\n    return arr.sort((a, b) => (a.index - b.index));\n}\n\n/**\n * Creates the string of the iframes after sorting them and finally returning a string\n * @param  {string} str    String to which the created text has to be added\n * @param  {object} embeds Sorted array of iframe html\n * @return {string}        String to be rendered\n */\nexport function createText(str, embeds) {\n    let sortedEmbeds = sortObject(embeds);\n    for (let i = 0; i < sortedEmbeds.length; i++) {\n        str += ` ${sortedEmbeds[i].text}`;\n    }\n    return str;\n}\n\n/**\n * Matches the string and finds the substrings matching to the provided regex pattern\n * @param  {object} regex Regex pattern\n * @param  {string} input The string to be analyzed\n * @return {object}       Returns the matched substring with their corresponding positions\n */\nexport function matches(regex, input) {\n    return regex.exec(input);\n}\n\n/**\n * Checks whether a particular service should be embedded or not based on\n * the setting provided by the user\n * @param  {object} options The options provided by the user\n * @param  {string} service Name of the service for which the condition is to be analyzed\n * @return {boolean}        True if it should be embedded\n */\nexport function ifEmbed(options, service) {\n    if (options.singleEmbed && options.served.length) return;\n    return ((options.excludeEmbed.indexOf(service) == -1) && !(options.excludeEmbed === 'all'));\n}\n\nexport function ifInline(options, service) {\n    return ((options.inlineEmbed.indexOf(service) >= 0) || (options.inlineEmbed === 'all'));\n}\n\n/**\n * Calculates the dimensions for the elements based on a aspect ratio\n * @param  {object} options Plugin options\n * @return {object}         The width and height of the elements\n */\nfunction setDimensions(options) {\n\toptions.videoWidth = options.videoWidth || ((options.videoHeight) / 3) * 4 || 800;\n\toptions.videoHeight = options.videoHeight || ((options.videoWidth) / 4) * 3 || 600;\n\treturn options;\n}\n\n/**\n * Returns a cloned object\n * @param  {object} obj\n * @return {object}     cloned object\n */\nexport function cloneObject(obj) {\n    if (obj === null || typeof obj !== 'object') return obj;\n    var temp = obj.constructor(); // give temp the original obj's constructor\n    for (var key in obj) {\n        temp[key] = cloneObject(obj[key])\n    }\n    return temp\n}\n\nexport function urlRegex() {\n    return /((href|src)=[\"']|)(\\b(https?|ftp|file):\\/\\/[-A-Z0-9+&@#\\/%?=~_|!:,.;]*[-A-Z0-9+&@#\\/%=~_|])|(?:https?:\\/\\/)?(?:(?:0rz\\.tw)|(?:1link\\.in)|(?:1url\\.com)|(?:2\\.gp)|(?:2big\\.at)|(?:2tu\\.us)|(?:3\\.ly)|(?:307\\.to)|(?:4ms\\.me)|(?:4sq\\.com)|(?:4url\\.cc)|(?:6url\\.com)|(?:7\\.ly)|(?:a\\.gg)|(?:a\\.nf)|(?:aa\\.cx)|(?:abcurl\\.net)|(?:ad\\.vu)|(?:adf\\.ly)|(?:adjix\\.com)|(?:afx\\.cc)|(?:all\\.fuseurl.com)|(?:alturl\\.com)|(?:amzn\\.to)|(?:ar\\.gy)|(?:arst\\.ch)|(?:atu\\.ca)|(?:azc\\.cc)|(?:b23\\.ru)|(?:b2l\\.me)|(?:bacn\\.me)|(?:bcool\\.bz)|(?:binged\\.it)|(?:bit\\.ly)|(?:buff\\.ly)|(?:bizj\\.us)|(?:bloat\\.me)|(?:bravo\\.ly)|(?:bsa\\.ly)|(?:budurl\\.com)|(?:canurl\\.com)|(?:chilp\\.it)|(?:chzb\\.gr)|(?:cl\\.lk)|(?:cl\\.ly)|(?:clck\\.ru)|(?:cli\\.gs)|(?:cliccami\\.info)|(?:clickthru\\.ca)|(?:clop\\.in)|(?:conta\\.cc)|(?:cort\\.as)|(?:cot\\.ag)|(?:crks\\.me)|(?:ctvr\\.us)|(?:cutt\\.us)|(?:dai\\.ly)|(?:decenturl\\.com)|(?:dfl8\\.me)|(?:digbig\\.com)|(?:digg\\.com)|(?:disq\\.us)|(?:dld\\.bz)|(?:dlvr\\.it)|(?:do\\.my)|(?:doiop\\.com)|(?:dopen\\.us)|(?:easyuri\\.com)|(?:easyurl\\.net)|(?:eepurl\\.com)|(?:eweri\\.com)|(?:fa\\.by)|(?:fav\\.me)|(?:fb\\.me)|(?:fbshare\\.me)|(?:ff\\.im)|(?:fff\\.to)|(?:fire\\.to)|(?:firsturl\\.de)|(?:firsturl\\.net)|(?:flic\\.kr)|(?:flq\\.us)|(?:fly2\\.ws)|(?:fon\\.gs)|(?:freak\\.to)|(?:fuseurl\\.com)|(?:fuzzy\\.to)|(?:fwd4\\.me)|(?:fwib\\.net)|(?:g\\.ro.lt)|(?:gizmo\\.do)|(?:gl\\.am)|(?:go\\.9nl.com)|(?:go\\.ign.com)|(?:go\\.usa.gov)|(?:goo\\.gl)|(?:goshrink\\.com)|(?:gurl\\.es)|(?:hex\\.io)|(?:hiderefer\\.com)|(?:hmm\\.ph)|(?:href\\.in)|(?:hsblinks\\.com)|(?:htxt\\.it)|(?:huff\\.to)|(?:hulu\\.com)|(?:hurl\\.me)|(?:hurl\\.ws)|(?:icanhaz\\.com)|(?:idek\\.net)|(?:ilix\\.in)|(?:is\\.gd)|(?:its\\.my)|(?:ix\\.lt)|(?:j\\.mp)|(?:jijr\\.com)|(?:kl\\.am)|(?:klck\\.me)|(?:korta\\.nu)|(?:krunchd\\.com)|(?:l9k\\.net)|(?:lat\\.ms)|(?:liip\\.to)|(?:liltext\\.com)|(?:linkbee\\.com)|(?:linkbun\\.ch)|(?:liurl\\.cn)|(?:ln-s\\.net)|(?:ln-s\\.ru)|(?:lnk\\.gd)|(?:lnk\\.ms)|(?:lnkd\\.in)|(?:lnkurl\\.com)|(?:lru\\.jp)|(?:lt\\.tl)|(?:lurl\\.no)|(?:macte\\.ch)|(?:mash\\.to)|(?:merky\\.de)|(?:migre\\.me)|(?:miniurl\\.com)|(?:minurl\\.fr)|(?:mke\\.me)|(?:moby\\.to)|(?:moourl\\.com)|(?:mrte\\.ch)|(?:myloc\\.me)|(?:myurl\\.in)|(?:n\\.pr)|(?:nbc\\.co)|(?:nblo\\.gs)|(?:nn\\.nf)|(?:not\\.my)|(?:notlong\\.com)|(?:nsfw\\.in)|(?:nutshellurl\\.com)|(?:nxy\\.in)|(?:nyti\\.ms)|(?:o-x\\.fr)|(?:oc1\\.us)|(?:om\\.ly)|(?:omf\\.gd)|(?:omoikane\\.net)|(?:on\\.cnn.com)|(?:on\\.mktw.net)|(?:onforb\\.es)|(?:orz\\.se)|(?:ow\\.ly)|(?:ping\\.fm)|(?:pli\\.gs)|(?:pnt\\.me)|(?:politi\\.co)|(?:post\\.ly)|(?:pp\\.gg)|(?:profile\\.to)|(?:ptiturl\\.com)|(?:pub\\.vitrue.com)|(?:qlnk\\.net)|(?:qte\\.me)|(?:qu\\.tc)|(?:qy\\.fi)|(?:r\\.im)|(?:rb6\\.me)|(?:read\\.bi)|(?:readthis\\.ca)|(?:reallytinyurl\\.com)|(?:redir\\.ec)|(?:redirects\\.ca)|(?:redirx\\.com)|(?:retwt\\.me)|(?:ri\\.ms)|(?:rickroll\\.it)|(?:riz\\.gd)|(?:rt\\.nu)|(?:ru\\.ly)|(?:rubyurl\\.com)|(?:rurl\\.org)|(?:rww\\.tw)|(?:s4c\\.in)|(?:s7y\\.us)|(?:safe\\.mn)|(?:sameurl\\.com)|(?:sdut\\.us)|(?:shar\\.es)|(?:shink\\.de)|(?:shorl\\.com)|(?:short\\.ie)|(?:short\\.to)|(?:shortlinks\\.co.uk)|(?:shorturl\\.com)|(?:shout\\.to)|(?:show\\.my)|(?:shrinkify\\.com)|(?:shrinkr\\.com)|(?:shrt\\.fr)|(?:shrt\\.st)|(?:shrten\\.com)|(?:shrunkin\\.com)|(?:simurl\\.com)|(?:slate\\.me)|(?:smallr\\.com)|(?:smsh\\.me)|(?:smurl\\.name)|(?:sn\\.im)|(?:snipr\\.com)|(?:snipurl\\.com)|(?:snurl\\.com)|(?:sp2\\.ro)|(?:spedr\\.com)|(?:srnk\\.net)|(?:srs\\.li)|(?:starturl\\.com)|(?:su\\.pr)|(?:surl\\.co.uk)|(?:surl\\.hu)|(?:t\\.cn)|(?:t\\.co)|(?:t\\.lh.com)|(?:ta\\.gd)|(?:tbd\\.ly)|(?:tcrn\\.ch)|(?:tgr\\.me)|(?:tgr\\.ph)|(?:tighturl\\.com)|(?:tiniuri\\.com)|(?:tiny\\.cc)|(?:tiny\\.ly)|(?:tiny\\.pl)|(?:tinylink\\.in)|(?:tinyuri\\.ca)|(?:tinyurl\\.com)|(?:tl\\.gd)|(?:tmi\\.me)|(?:tnij\\.org)|(?:tnw\\.to)|(?:tny\\.com)|(?:to\\.ly)|(?:togoto\\.us)|(?:totc\\.us)|(?:toysr\\.us)|(?:tpm\\.ly)|(?:tr\\.im)|(?:tra\\.kz)|(?:trunc\\.it)|(?:twhub\\.com)|(?:twirl\\.at)|(?:twitclicks\\.com)|(?:twitterurl\\.net)|(?:twitterurl\\.org)|(?:twiturl\\.de)|(?:twurl\\.cc)|(?:twurl\\.nl)|(?:u\\.mavrev.com)|(?:u\\.nu)|(?:u76\\.org)|(?:ub0\\.cc)|(?:ulu\\.lu)|(?:updating\\.me)|(?:ur1\\.ca)|(?:url\\.az)|(?:url\\.co.uk)|(?:url\\.ie)|(?:url360\\.me)|(?:url4\\.eu)|(?:urlborg\\.com)|(?:urlbrief\\.com)|(?:urlcover\\.com)|(?:urlcut\\.com)|(?:urlenco\\.de)|(?:urli\\.nl)|(?:urls\\.im)|(?:urlshorteningservicefortwitter\\.com)|(?:urlx\\.ie)|(?:urlzen\\.com)|(?:usat\\.ly)|(?:use\\.my)|(?:vb\\.ly)|(?:vgn\\.am)|(?:vl\\.am)|(?:vm\\.lc)|(?:w55\\.de)|(?:wapo\\.st)|(?:wapurl\\.co.uk)|(?:wipi\\.es)|(?:wp\\.me)|(?:x\\.vu)|(?:xr\\.com)|(?:xrl\\.in)|(?:xrl\\.us)|(?:xurl\\.es)|(?:xurl\\.jp)|(?:y\\.ahoo.it)|(?:yatuc\\.com)|(?:ye\\.pe)|(?:yep\\.it)|(?:yfrog\\.com)|(?:yhoo\\.it)|(?:yiyd\\.com)|(?:youtu\\.be)|(?:yuarel\\.com)|(?:z0p\\.de)|(?:zi\\.ma)|(?:zi\\.mu)|(?:zipmyurl\\.com)|(?:zud\\.me)|(?:zurl\\.ws)|(?:zz\\.gd)|(?:zzang\\.kr)|(?:›\\.ws)|(?:✩\\.ws)|(?:✿\\.ws)|(?:❥\\.ws)|(?:➔\\.ws)|(?:➞\\.ws)|(?:➡\\.ws)|(?:➨\\.ws)|(?:➯\\.ws)|(?:➹\\.ws)|(?:➽\\.ws))\\/[a-z0-9]*/gi;\n}\n\nfunction arrayLowercase(options, property){\n\tif(typeof options[property] !== 'string'){\n\t\toptions[property] = options[property].map(function(elem){\n\t\t\treturn elem.toLowerCase();\n\t\t})\n\t}\n\treturn options;\n}\n\n/**\n * Sets the dimensions and converts options values' Array into lowercase.\n * @param options\n * @returns {Object|*}\n */\nexport function processOptions(options){\n\toptions = setDimensions(options);\n\toptions = arrayLowercase(options, 'excludeEmbed');\n\toptions = arrayLowercase(options, 'inlineEmbed');\n\treturn arrayLowercase(options, 'openGraphExclude');\n}\n\n/**\n * Get the last element of an array or string\n * @param elem [String|Array]\n * @returns last element of the Array or String\n */\nexport function lastElement(elem){\n\treturn elem[elem.length - 1];\n}\n","import { toUrl, lastElement } from './utils'\n\nexport default class Renderer{\n\tconstructor(options){\n\t\tthis.options = options || {}\n\t}\n\n\turl(match, options){\n\t\tlet config = options.linkOptions;\n\t\treturn `<a href=\"${toUrl(match)}\" rel=\"${config.rel}\" target=\"${config.target}\">${match}</a>`;\n\t}\n\n\tsmiley(text, pre, code) {\n\t\treturn `<span class=\"icon-emoticon\" title=\"${text}\">${pre}${code}</span>`;\n\t}\n\n\temoji(text){\n\t\treturn `<span class=\"emoticon emoticon-${text}\" title=\":${text}:\"></span>`;\n\t}\n\n\taudio(match){\n\t\treturn `<div class=\"ejs-audio ejs-embed\"><audio src=\"${match}\" controls class=\"video-js ejs-video-js\"></audio></div>`\n\t}\n\n\tsoundcloud(match, options){\n\t\tlet config = options.soundCloudOptions;\n\t\treturn `<div class=\"ejs-embed\">\n\t\t<iframe height=\"160\" scrolling=\"no\" src=\"https://w.soundcloud.com/player/?url=${match}\n\t\t&auto_play     = ${config.autoPlay}\n\t\t&hide_related  = ${config.hideRelated}\n\t\t&show_comments = ${config.showComments}\n\t\t&show_user     = ${config.showUser}\n\t\t&show_reposts  = ${config.showReposts}\n\t\t&visual        = ${config.visual}\n\t\t&download      = ${config.download}\n\t\t&color         = ${config.themeColor}\n\t\t&theme_color   = ${config.themeColor}\"></iframe>\n\t\t</div>`\n\t}\n\n\tspotify(match){\n\t\tlet id = lastElement(match.split('/'));\n\t\treturn `<div class=\"ejs-embed\"><iframe src=\"https://embed.spotify.com/?uri=spotify:track:${id}\" height=\"80\"></iframe></div>`\n\t}\n\n\tcodepen(id, options){\n\t\treturn `<div class=\"ejs-embed ejs-codepen\"><iframe scrolling=\"no\" height=\"${options.codeEmbedHeight}\" src=\"${id.replace(/\\/pen\\//, '/embed/')}/?height=${options.codeEmbedHeight}\"></iframe></div>`\n\t}\n\n\tideone(match, options){\n\t\treturn `<div class=\"ejs-ideone ejs-embed\"><iframe src=\"http://ideone.com/embed/${match.split('/')[1]}\" frameborder=\"0\" height=\"${options.codeEmbedHeight}\"></iframe></div>`\n\t}\n\n\tjsbin(id, options){\n\t\treturn `<div class=\"ejs-jsbin ejs-embed\"><iframe height=\"${options.codeEmbedHeight}\" class=\"jsbin-embed foo\" src=\"http://${id}/embed?html,js,output\"></iframe></div>`\n\t}\n\n\tjsfiddle(id, options){\n\t\tid = lastElement(id) == '/' ? id.slice(0, - 1) : id;\n\t\tid =  (id.indexOf('//') !== -1) ? id : `//${id}`;\n\t\treturn `<div class=\"ejs-embed ejs-jsfiddle\"><iframe height=\"${options.codeEmbedHeight}\" src=\"${id}/embedded\"></iframe></div>`\n\t}\n\n\tplunker(id, options){\n\t\treturn `<div class=\"ejs-embed ejs-plunker\"><iframe class=\"ne-plunker\" src=\"http://embed.plnkr.co/${id}\" height=\"${options.codeEmbedHeight}\"></iframe></div>`\n\t}\n\n\timage(match){\n\t\treturn `<div class=\"ejs-image ejs-embed\"><div class=\"ne-image-wrapper\"><img src=\"${match}\"/></div></div>`\n\t}\n\n\tflickr(match, options){\n\t\treturn `<div class=\"ejs-embed\"><div class=\"ne-image-wrapper\"><iframe src=\"${toUrl(match.split('/?')[0])}/player/\" width=\"${options.videoWidth}\" height=\"${options.videoHeight}\"></iframe></div></div>`\n\t}\n\n\tinstagram(match, options){\n\t\treturn `<div class=\"ejs-embed ejs-instagram\"><iframe src=\"${toUrl(match.split('/?')[0])}/embed/\" height=\"${options.videoHeight}\"></iframe></div>`;\n\t}\n\n\tslideShare(html){\n\t\treturn `<div class=\"ejs-embed ejs-slideshare\">${html}</div>`;\n\t}\n\n\tvideo(match){\n\t\treturn `<div class=\"ejs-video ejs-embed\"><div class=\"ejs-video-player\"><div class=\"ejs-player\"><video src=\"${match}\" class=\"ejs-video-js video-js\" controls></video></div></div></div>`\n\t}\n\n\tdailymotion(match, options){\n\t\tconst id = lastElement(match.split('/'));\n\t\treturn `<div class=\"ejs-video ejs-embed\"><iframe src=\"http://www.dailymotion.com/embed/video/${id}\" height=\"${options.videoHeight}\" width=\"${options.videoWidth}\"></iframe></div>`\n\t}\n\n\tliveleak(match, options){\n\t\treturn `<div class=\"ejs-video ejs-embed\"><iframe src=\"http://www.liveleak.com/e/${match.split('=')[1]}\" height=\"${options.videoHeight}\" width=\"${options.videoWidth}\"></iframe></div>`\n\t}\n\n\tted(match, options){\n\t\tlet a = match.split('/');\n\t\tconst id = a[a.length - 1];\n\t\treturn `<div class=\"ejs-embed ejs-ted\"><iframe src=\"http://embed.ted.com/talks/${id}.html\" height=\"${options.videoHeight}\" width=\"${options.videoWidth}\"></iframe></div>`\n\t}\n\n\tustream(match, options){\n\t\tlet id = match.split('/');\n\t\tid.splice(1, 0, 'embed');\n\t\treturn `<div class=\"ejs-embed ejs-ustream\"><iframe src=\"//www.${id.join('/')}\" height=\"${options.videoHeight}\" width=\"${options.videoWidth}\"></iframe></div>`\n\t}\n\n\tdetailsVimeo(data, fullData, embedUrl){\n\t\treturn `<div class=\"ejs-video ejs-embed\"><div class=\"ejs-video-preview\"><div class=\"ejs-video-thumb\" data-ejs-url=\"${embedUrl}\"><div class=\"ejs-thumb\" style=\"background-image:url(${data.thumbnail})\"></div><i class=\"fa fa-play-circle-o\"></i></div><div class=\"ejs-video-detail\"><div class=\"ejs-video-title\"><a href=\"${data.url}\">${data.title}</a></div><div class=\"ejs-video-desc\">${data.description}</div><div class=\"ejs-video-stats\"><span><i class=\"fa fa-eye\"></i>${data.views}</span><span><i class=\"fa fa-heart\"></i>${data.likes}</span></div></div></div></div>`\n\t}\n\n\tdetailsYoutube(data, fullData, embedUrl){\n\t\treturn `<div class=\"ejs-video ejs-embed\"><div class=\"ejs-video-preview\"><div class=\"ejs-video-thumb\" data-ejs-url=\"${embedUrl}\"><div class=\"ejs-thumb\" style=\"background-image:url(${data.thumbnail})\"></div><i class=\"fa fa-play-circle-o\"></i></div><div class=\"ejs-video-detail\"><div class=\"ejs-video-title\"><a href=\"${data.url}\">${data.title}</a></div><div class=\"ejs-video-desc\">${data.description}</div><div class=\"ejs-video-stats\"><span><i class=\"fa fa-eye\"></i>${data.views}</span><span><i class=\"fa fa-heart\"></i>${data.likes}</span></div></div></div></div>`\n\t}\n\n\tvine(match, options){\n\t\tconst id = lastElement(match.split('/'));\n\t\tconst config = options.vineOptions;\n\t\treturn `<div class=\"ejs-vine\"><iframe class=\"ejs-vine-iframe\" src=\"https://vine.co/v/${id}/embed/${config.type}\" height=\"${config.height}\" width=\"${config.width}\"></iframe></div>`\n\t}\n\n\tvimeo(url, options){\n\t\treturn `<div class=\"ejs-video-player ejs-embed\"><iframe src=\"${url}\" frameBorder=\"0\" width=\"${options.videoWidth}\" height=\"${options.videoHeight}\"></iframe></div>`\n\t}\n\n\tyoutube(url, options){\n\t\treturn `<div class=\"ejs-video-player ejs-embed\"><iframe src=\"${url}\" frameBorder=\"0\" width=\"${options.videoWidth}\" height=\"${options.videoHeight}\"></iframe></div>`\n\t}\n\n\topenGraph(data, options){\n\t\treturn `<div class=\"ejs-embed ejs-ogp\"><div class=\"ejs-ogp-thumb\" style=\"background-image:url(${data.image})\"></div><div class=\"ejs-ogp-details\"><div class=\"ejs-ogp-title\"><a href=\"${data.url}\" target=\"${options.linkOptions.target}\">${data.title}</a></div><div class=\"ejs-ogb-details\">${data.description}</div></div></div>`\n\t}\n\n\tgithub(data, options){\n\t\treturn `<div class=\"ejs-embed ejs-github\"><div class=\"ejs-ogp-thumb\" style=\"background-image:url(${data.owner.avatar_url})\"></div><div class=\"ejs-ogp-details\"><div class=\"ejs-ogp-title\"><a href=\"${data.html_url}\" target=\"${options.linkOptions.target}\">${data.full_name}</a></div><div class=\"ejs-ogb-details\">${data.description}</div><div class=\"ejs-github-stats\"><span><i class=\"fa fa-star\"></i>${data.stargazers_count}</span><span><i class=\"fa fa-code-fork\"></i>${data.network_count}</span></div></div></div>`\n\t}\n}\n","const regex = {\n\tbasicAudio   : /((?:https?):\\/\\/\\S*\\.(?:wav|mp3|ogg))/gi,\n\tsoundCloud   : /(soundcloud.com)\\/[a-zA-Z0-9-_]+\\/[a-zA-Z0-9-_]+/gi,\n\tspotify      : /spotify.com\\/track\\/[a-zA-Z0-9_]+/gi,\n\tcodepen      : /http:\\/\\/codepen.io\\/([A-Za-z0-9_]+)\\/pen\\/([A-Za-z0-9_]+)/gi,\n\tgist         : /gist.github.com\\/[a-zA-Z0-9_-]+\\/([a-zA-Z0-9]+)/gi,\n\thighlightCode: /(`{3})(\\s|[a-z]+)\\s*([\\s\\S]*?[^`])\\s*\\1(?!`)/gm,\n\tinlineCode   : /(`)\\s*([\\s\\S]*?[^`])\\s*\\1(?!`)/gm,\n\tideone       : /ideone.com\\/[a-zA-Z0-9]{6}/gi,\n\tjsbin        : /jsbin.com\\/[a-zA-Z0-9_]+\\/[0-9_]+/gi,\n\tjsfiddle     : /jsfiddle.net\\/[a-zA-Z0-9_]+\\/[a-zA-Z0-9_\\/]+/gi,\n\tplunker      : /plnkr.co\\/edit\\/[a-zA-Z0-9\\?=]+/gi,\n\tbasicImage   : /((?:https?):\\/\\/\\S*\\.(?:gif|jpg|jpeg|tiff|png|svg|webp))/gi,\n\tflickr       : /flickr.com\\/[a-z]+\\/[a-zA-Z@_$!\\d\\-\\]+\\/[\\d]+/gi,\n\tinstagram    : /instagram.com\\/p\\/[a-zA-Z0-9_\\/\\?\\-\\=]+/gi,\n\tslideShare   : /slideshare.net\\/[a-zA-Z0-9_-]*\\/[a-zA-Z0-9_-]*/gi,\n\tgithub       : /[^\\.]github.com\\/([\\w\\.\\-]+)\\/([\\w\\.\\-]+)/gi,\n\tbasicVideo   : /(?:https?):\\/\\/\\S*\\.(?:ogv|webm|mp4)/gi,\n\tdailymotion  : /dailymotion.com\\/video\\/[a-zA-Z0-9-_]+/gi,\n\tliveleak     : /liveleak.com\\/view\\?i=[a-zA-Z0-9_]+/gi,\n\tted          : /ted.com\\/talks\\/[a-zA-Z0-9_]+/gi,\n\tustream      : /ustream.tv\\/[a-z\\/0-9]*/gi,\n\tvimeo        : /https?:\\/\\/(?:www\\.)?vimeo.com\\/(?:channels\\/(?:\\w+\\/)?|groups\\/([^\\/]*)\\/videos\\/|album\\/(\\d+)\\/video\\/|)(\\d+)(?:$|\\/|\\?)*/gi,\n\tvine         : /vine.co\\/v\\/[a-zA-Z0-9]+/gi,\n\tyoutube      : /https?:\\/\\/(?:[0-9A-Z-]+\\.)?(?:youtu\\.be\\/|youtube\\.com(?:\\/embed\\/|\\/v\\/|\\/watch\\?v=|\\/ytscreeningroom\\?v=|\\/feeds\\/api\\/videos\\/|\\/user\\S*[^\\w\\-\\s]|\\S*[^\\w\\-\\s]))([\\w\\-]{11})[?=&+%\\w-]*/gi,\n\tgmap         : /@\\((.+)\\)/gi,\n\ttwitter      : /https:\\/\\/twitter\\.com\\/\\w+\\/\\w+\\/\\d+/gi,\n\tsmileys      : /(\\:[\\+\\-\\w]+\\:|\\<[\\/\\\\]?3|[\\(\\)\\\\\\D|\\*\\$][\\-\\^]?[\\:\\;\\=]|[\\:\\;\\=B8][\\-\\^]?[3DOPp\\@\\$\\*\\\\\\)\\(\\/\\|])(?=\\s|[\\!\\.\\?]|$)/gi\n};\n\nexport default regex;\n","import regex from '../regex';\n\nexport default class Emoji {\n\tconstructor(output, options) {\n\t\tthis.output  = output;\n\t\tthis.options = options;\n\n\t\tthis.emojiRegex = regex.smileys;\n\t}\n\n\tstatic getEmoji(match) {\n\t\treturn match[0] === ':' && match[match.length - 1] === ':' && match.substring(1, match.length-1)\n\t}\n\n\tprocess() {\n\t\treturn this.output.replace(this.emojiRegex, (match) => {\n\t\t\tconst emoji = Emoji.getEmoji(match);\n\t\t\tif (emoji){\n\t\t\t\treturn this.options.template.emoji(emoji, this.options)\n\t\t\t}\n\t\t\treturn match;\n\t\t});\n\t}\n}\n\n","import {escapeRegExp} from '../utils'\n\nexport default class Smiley {\n\tconstructor(input, options) {\n\t\tthis.input   = input;\n\t\tthis.options = options;\n\n\t\tlet defaultIcons = [{\n\t\t\t'text': ':)',\n\t\t\t'code': '&#xe60a'\n\t\t}, {\n\t\t\t'text': ':D',\n\t\t\t'code': '&#xe608'\n\t\t}, {\n\t\t\t'text': ':d',\n\t\t\t'code': '&#xe608'\n\t\t}, {\n\t\t\t'text': ':(',\n\t\t\t'code': '&#xe60e'\n\t\t}, {\n\t\t\t'text': ':/',\n\t\t\t'code': '&#xe620'\n\n\t\t}, {\n\t\t\t'text': ':P',\n\t\t\t'code': '&#xe60c'\n\t\t}, {\n\t\t\t'text': ':p',\n\t\t\t'code': '&#xe60c'\n\t\t}, {\n\t\t\t'text': '3:)',\n\t\t\t'code': '&#xe618'\n\t\t}, {\n\t\t\t'text': '(^)',\n\t\t\t'code': '&#xe607'\n\t\t}, {\n\t\t\t'text': ';)',\n\t\t\t'code': '&#xe610'\n\t\t}, {\n\t\t\t'text': ':o',\n\t\t\t'code': '&#xe61a'\n\t\t}, {\n\t\t\t'text': '-_-',\n\t\t\t'code': '&#xe61e'\n\t\t}, {\n\t\t\t'text': '(y)',\n\t\t\t'code': '&#xe606'\n\t\t}, {\n\t\t\t'text': ':*',\n\t\t\t'code': '&#xe604'\n\t\t}, {\n\t\t\t'text': '&lt;3',\n\t\t\t'code': '&#xe604'\n\t\t}, {\n\t\t\t'text': '<3',\n\t\t\t'code': '&#xe604'\n\t\t}, {\n\t\t\t'text': '&lt;/3',\n\t\t\t'code': '&#xe605'\n\t\t}, {\n\t\t\t'text': '</3',\n\t\t\t'code': '&#xe605'\n\t\t}, {\n\t\t\t'text': '^_^',\n\t\t\t'code': '&#xe612'\n\t\t}, {\n\t\t\t'text': '8-)',\n\t\t\t'code': '&#xe614'\n\t\t}, {\n\t\t\t'text': '8|',\n\t\t\t'code': '&#xe614'\n\t\t}, {\n\t\t\t'text': ':S',\n\t\t\t'code': '&#xe61c'\n\t\t}, {\n\t\t\t'text': ':s',\n\t\t\t'code': '&#xe61c'\n\t\t}];\n\n\t\tthis.icons = options.customFontIcons.length ? options.customFontIcons : defaultIcons;\n\n\t\tthis.escapedSymbols = this.icons.map((val) => escapeRegExp(val.text));\n\n\t\tthis.smileyRegex = new RegExp(`(^|\\\\s)(${this.escapedSymbols.join('|')})(?=\\\\s|$)`, 'gi');\n\t}\n\n\tprocess() {\n\t\treturn this.input.replace(this.smileyRegex, (match, pre, text) => {\n\t\t\tlet index = this.escapedSymbols.indexOf(escapeRegExp(text));\n\t\t\tlet code  = this.icons[index].code;\n\t\t\treturn this.options.template.smiley(text, pre, code, this.options);\n\t\t});\n\t}\n}\n\n","import { urlRegex, lastElement } from './utils'\n\nexport default class Url {\n\tconstructor(input, options) {\n\t\tthis.input    = input;\n\t\tthis.options  = options;\n\t\tthis.urlRegex = urlRegex();\n\t}\n\n\tprocess() {\n\t\tvar config = this.options.linkOptions;\n\t\treturn this.input.replace(this.urlRegex, (match)=> {\n\t\t\tlet extension = lastElement(match.split('.'));\n\t\t\tif ((lastElement(match) === '/'))\n\t\t\t\tmatch = match.slice(0, -1);\n\t\t\tif (config.exclude.indexOf(extension) === -1)\n\t\t\t\treturn this.options.template.url(match, this.options);\n\t\t\treturn match;\n\t\t});\n\t}\n}\n","(function (global, factory) {\n  if (typeof define === 'function' && define.amd) {\n    define(['exports', 'module'], factory);\n  } else if (typeof exports !== 'undefined' && typeof module !== 'undefined') {\n    factory(exports, module);\n  } else {\n    var mod = {\n      exports: {}\n    };\n    factory(mod.exports, mod);\n    global.fetchJsonp = mod.exports;\n  }\n})(this, function (exports, module) {\n  'use strict';\n\n  var defaultOptions = {\n    timeout: 5000,\n    jsonpCallback: 'callback',\n    jsonpCallbackFunction: null\n  };\n\n  function generateCallbackFunction() {\n    return 'jsonp_' + Date.now() + '_' + Math.ceil(Math.random() * 100000);\n  }\n\n  // Known issue: Will throw 'Uncaught ReferenceError: callback_*** is not defined' error if request timeout\n  function clearFunction(functionName) {\n    // IE8 throws an exception when you try to delete a property on window\n    // http://stackoverflow.com/a/1824228/751089\n    try {\n      delete window[functionName];\n    } catch (e) {\n      window[functionName] = undefined;\n    }\n  }\n\n  function removeScript(scriptId) {\n    var script = document.getElementById(scriptId);\n    document.getElementsByTagName('head')[0].removeChild(script);\n  }\n\n  var fetchJsonp = function fetchJsonp(url) {\n    var options = arguments[1] === undefined ? {} : arguments[1];\n\n    var timeout = options.timeout != null ? options.timeout : defaultOptions.timeout;\n    var jsonpCallback = options.jsonpCallback != null ? options.jsonpCallback : defaultOptions.jsonpCallback;\n\n    var timeoutId = undefined;\n\n    return new Promise(function (resolve, reject) {\n      var callbackFunction = options.jsonpCallbackFunction || generateCallbackFunction();\n\n      window[callbackFunction] = function (response) {\n        resolve({\n          ok: true,\n          // keep consistent with fetch API\n          json: function json() {\n            return Promise.resolve(response);\n          }\n        });\n\n        if (timeoutId) clearTimeout(timeoutId);\n\n        removeScript(jsonpCallback + '_' + callbackFunction);\n\n        clearFunction(callbackFunction);\n      };\n\n      // Check if the user set their own params, and if not add a ? to start a list of params\n      url += url.indexOf('?') === -1 ? '?' : '&';\n\n      var jsonpScript = document.createElement('script');\n      jsonpScript.setAttribute('src', url + jsonpCallback + '=' + callbackFunction);\n      jsonpScript.id = jsonpCallback + '_' + callbackFunction;\n      document.getElementsByTagName('head')[0].appendChild(jsonpScript);\n\n      timeoutId = setTimeout(function () {\n        reject(new Error('JSONP request to ' + url + ' timed out'));\n\n        clearFunction(callbackFunction);\n        removeScript(jsonpCallback + '_' + callbackFunction);\n      }, timeout);\n    });\n  };\n\n  // export as global function\n  /*\n  let local;\n  if (typeof global !== 'undefined') {\n    local = global;\n  } else if (typeof self !== 'undefined') {\n    local = self;\n  } else {\n    try {\n      local = Function('return this')();\n    } catch (e) {\n      throw new Error('polyfill failed because global object is unavailable in this environment');\n    }\n  }\n  \n  local.fetchJsonp = fetchJsonp;\n  */\n\n  module.exports = fetchJsonp;\n});","/**\n * Common template for vimeo and youtube iframes\n * @param  {string} url     URL of the embedding video\n * @param  {object} options Options object\n * @return {string}         compiled template with variables replaced\n */\nexport default function template(url, options) {\n\treturn options.template.vimeo(url, options) || options.template.youtube(url, options)\n}\n","import template from './template'\n\n/**\n * Plays the video after clicking on the thumbnail\n * @param  {object} options   Options object\n * @return {null}\n */\nexport default function playVideo(options) {\n\t/** Execute the customVideoClickHandler if the user wants to handle it on his own. */\n\tif (options.customVideoClickHandler) return options.videoClickHandler(options, template);\n\n\tlet classes = document.getElementsByClassName(options.videoClickClass);\n\tfor (let i = 0; i < classes.length; i++) {\n\t\tclasses[i].onclick = function () {\n\t\t\toptions.onVideoShow();\n\t\t\tlet url                              = this.getAttribute('data-ejs-url') + \"?autoplay=true\";\n\t\t\tthis.parentNode.parentNode.innerHTML = template(url, options);\n\t\t};\n\t}\n}\n","export default function getDetailsTemplate(data, fullData, embedUrl, options) {\n\tif (data.host === 'vimeo') {\n\t\treturn options.template.detailsVimeo(data, fullData, embedUrl, options)\n\t} else if (data.host === 'youtube') {\n\t\treturn options.template.detailsYoutube(data, fullData, embedUrl, options)\n\t}\n}\n","/**\n * Applies video.js to all audio and video dynamically\n * @param  {object} options Options object\n * @return {null}\n */\nexport default function applyVideoJS(options) {\n\toptions.videojsOptions.width  = options.videoWidth;\n\toptions.videojsOptions.height = options.videoHeight;\n\tif (options.videoJS) {\n\t\tif (!options.plugins.videojs) throw new ReferenceError(\"You have enabled videojs but you haven't loaded the library.Find it at http://videojs.com/\");\n\t\tlet VideoJS = options.plugins.videojs;\n\t\tlet elements = options.input.getElementsByClassName('ejs-video-js');\n\t\tfor (let i = 0; i < elements.length; i++) {\n\t\t\tVideoJS(elements[i], options.videojsOptions, () => options.videojsCallback());\n\t\t}\n\t}\n}\n","/**\n * Destroys the onclick event for opening the video template from the details template\n * @param  {className} className\n * @return {null}\n */\nexport default function destroyVideos(className) {\n\tlet classes = document.getElementsByClassName(className);\n\tfor (let i = 0; i < classes.length; i++) {\n\t\tclasses[i].onclick = null\n\t}\n}\n","import { ifInline, matches } from '../modules/utils'\n\nfunction inlineEmbed(_){\n\tlet regexInline = _.options.link ? new RegExp(`([^>]*${_.regex.source})<\\/a>`, 'gm') : new RegExp(`([^\\\\s]*${_.regex.source})`, 'gm');\n\t_.output     = _.output.replace(regexInline, function(match) {\n\t\tlet url = _.options.link ? match.slice(0, -4) : match;\n\t\tif (_.options.served.indexOf(url) === -1) {\n\t\t\t_.options.served.push(url);\n\t\t\tif (_.options.link) {\n\t\t\t\treturn !_.options.inlineText ? _.template(match.slice(0, -4)) + '</a>' : match + _.template(match.slice(0, -4))\n\t\t\t} else {\n\t\t\t\treturn !_.options.inlineText ? _.template(match) : match + _.template(match)\n\t\t\t}\n\t\t} else {\n\t\t\treturn match; //TODO : check whether this should be `match`\n\t\t}\n\t});\n\treturn [_.output, _.embeds];\n}\n\nfunction normalEmbed(_){\n\tlet match;\n\twhile ((match = matches(_.regex, _.input)) !== null) {\n\t\tlet url = match[0];\n\t\tif (!(_.options.served.indexOf(url) === -1) || (_.options.served.length && _.options.singleEmbed)) continue;\n\t\t_.options.served.push(url);\n\t\tlet text = _.template(url);\n\t\t_.embeds.push({\n\t\t\ttext : text,\n\t\t\tindex: match.index\n\t\t})\n\t}\n\treturn [_.output, _.embeds];\n}\n\nexport default function embed(_){\n\treturn (ifInline(_.options, _.service)) ? inlineEmbed(_) : normalEmbed(_)\n}\n","import { embed } from '../helpers'\n\nclass Base {\n\tconstructor(input, output, embeds, options, regex, service) {\n\t\tthis.input   = input;\n\t\tthis.output  = output;\n\t\tthis.options = options;\n\t\tthis.embeds  = embeds;\n\t\tthis.regex   = regex;\n\t\tthis.service = service;\n\t}\n\n\ttemplate(match){\n\t\treturn this.options.template[this.service](match, this.options);\n\t}\n\n\tprocess() {\n\t\treturn embed(this);\n\t}\n}\n\nexport default Base\n","import { ifEmbed } from '../modules/utils'\nimport Base from '../modules/Base'\n\nexport default function baseEmbed(input, output, embeds, options, regex, service, flag){\n\treturn ifEmbed(options, service) || (ifEmbed(options, service) && flag) ? new Base(input, output, embeds, options, regex, service).process() : [output, embeds]\n}\n","import { matches, ifInline } from '../modules/utils'\n\n/**\n * This is a private function which is used to get the actual text to be replaced for\n * a particular url in inline embedding. This returns a promise\n * @param  {object} _     reference to this\n * @param  {function} urlToText The function that converts url to replaceable text\n * @param  {object} match     object containing info of matching string\n * @return {Promise}           resolves to the text\n */\nfunction getInlineData(_, urlToText, match) {\n\tlet url = (_.options.link ? match[0].slice(0, -4) : match[0]) || match[1];\n\tif (_.options.served.indexOf(url) >= 0) return Promise.resolve(null);\n\n\treturn new Promise((resolve) => {\n\t\turlToText(_, match, url).then((text) => {\n\t\t\tif (!text) return resolve();\n\t\t\t_.options.served.push(url);\n\t\t\tresolve(text);\n\t\t})\n\t})\n}\n\n/**\n * A helper function for inline embedding\n * @param _\n * @param urlToText\n * @returns Promise\n */\nfunction inlineAsyncEmbed(_, urlToText) {\n\tlet regexInline     = _.options.link ? new RegExp(`([^>]*${_.regex.source})<\\/a>`, 'gi') : new RegExp(`([^\\\\s]*${_.regex.source})`, 'gi');\n\tlet match, promises = [];\n\n\twhile ((match = matches(regexInline, _.output)) !== null)\n\t\tpromises.push(getInlineData(_, urlToText, match));\n\n\treturn new Promise((resolve) => {\n\t\tif (matches.length)\n\t\t\tPromise.all(promises).then((data) => {\n\t\t\t\tlet i        = 0;\n\t\t\t\t_.output = _.output.replace(regexInline, (match) => {\n\t\t\t\t\tif (_.options.link)\n\t\t\t\t\t\treturn !_.options.inlineText ? data[i] + '</a>' : match + data[i++];\n\t\t\t\t\telse\n\t\t\t\t\t\treturn !_.options.inlineText ? data[i] : match + data[i++];\n\t\t\t\t});\n\t\t\t\tresolve(_.output)\n\t\t\t});\n\t\telse\n\t\t\tresolve(_.output)\n\t})\n}\n\n\nfunction getNormalData(_, urlToText, match) {\n\tlet url = match[0];\n\tif (_.options.served.indexOf(url) >= 0) return;\n\n\treturn new Promise((resolve) => {\n\t\turlToText(_, match, url, true).then(function (text) {\n\t\t\tif (!text) resolve();\n\t\t\t_.options.served.push(url);\n\t\t\t_.embeds.push({\n\t\t\t\ttext : text,\n\t\t\t\tindex: match.index\n\t\t\t});\n\t\t\tresolve()\n\t\t})\n\t})\n}\n\n/**\n * A helper function for normal embedding\n * @param  {object} _\n * @param  {function} urlToText\n * @return {Promise}\n */\nfunction normalAsyncEmbed(_, urlToText) {\n\tlet match, promises = [];\n\twhile ((match = matches(_.regex, _.input)) !== null)\n\t\tpromises.push(getNormalData(_, urlToText, match));\n\treturn new Promise(function (resolve) {\n\t\tPromise.all(promises).then(function () {\n\t\t\tresolve(_.embeds)\n\t\t});\n\t})\n}\n\nexport default function asyncEmbed(_, urlToText) {\n\treturn new Promise(function (resolve) {\n\t\tif (ifInline(_.options, _.service))\n\t\t\tinlineAsyncEmbed(_, urlToText).then((output) => resolve([output, _.embeds]));\n\t\telse\n\t\t\tnormalAsyncEmbed(_, urlToText).then((embeds) => resolve([_.output, embeds]))\n\t})\n}\n","import fetchJsonp from 'fetch-jsonp'\nimport { asyncEmbed } from '../../helpers'\nimport regex from '../regex'\n\nexport default class Twitter {\n\tconstructor(input, output, options, embeds) {\n\t\tthis.input   = input;\n\t\tthis.output  = output;\n\t\tthis.options = options;\n\t\tthis.embeds  = embeds;\n\t\tthis.regex   = regex.twitter;\n\t\tthis.service = 'twitter';\n\n\t\tthis.load = this.load.bind(this);\n\t\tif(typeof this.options.input !== 'string'){\n\t\t\tthis.options.input.addEventListener('rendered', this.load, false);\n\t\t}\n\t}\n\n\t/**\n\t * Fetches the data from twitter's oEmbed API\n\t * @param  {string} url URL of the tweet\n\t * @return {object}     data containing the tweet info\n\t */\n\ttweetData(url) {\n\t\tlet config = this.options.tweetOptions;\n\t\tlet apiUrl = `https://api.twitter.com/1/statuses/oembed.json?omit_script=true&url=${url}&maxwidth=${config.maxWidth}&hide_media=${config.hideMedia}&hide_thread=${config.hideThread}&align=${config.align}&lang=${config.lang}`;\n\t\treturn new Promise((resolve) => {\n\t\t\tfetchJsonp(apiUrl, {credentials: 'include'})\n\t\t\t\t.then((data)=>data.json())\n\t\t\t\t.then((json)=>resolve(json))\n\t\t})\n\t}\n\n\t/**\n\t * Load twitter widgets\n\t * @return null\n\t */\n\tload() {\n\t\tconst twitter = this.options.plugins.twitter;\n\t\ttwitter.widgets.load(this.options.element); //here this refers to the element\n\n\t\t//Execute the function after the widget is loaded\n\t\ttwitter.events.bind('loaded', this.options.onTweetsLoad);\n\t}\n\n\tstatic urlToText(_this, match, url) {\n\t\treturn new Promise((resolve) => _this.tweetData(url).then((data) => resolve(data.html)))\n\t}\n\n\tprocess() {\n\t\treturn new Promise((resolve) => asyncEmbed(this, Twitter.urlToText).then((data) => resolve(data)))\n\t}\n}\n","(function(self) {\n  'use strict';\n\n  if (self.fetch) {\n    return\n  }\n\n  function normalizeName(name) {\n    if (typeof name !== 'string') {\n      name = String(name)\n    }\n    if (/[^a-z0-9\\-#$%&'*+.\\^_`|~]/i.test(name)) {\n      throw new TypeError('Invalid character in header field name')\n    }\n    return name.toLowerCase()\n  }\n\n  function normalizeValue(value) {\n    if (typeof value !== 'string') {\n      value = String(value)\n    }\n    return value\n  }\n\n  function Headers(headers) {\n    this.map = {}\n\n    if (headers instanceof Headers) {\n      headers.forEach(function(value, name) {\n        this.append(name, value)\n      }, this)\n\n    } else if (headers) {\n      Object.getOwnPropertyNames(headers).forEach(function(name) {\n        this.append(name, headers[name])\n      }, this)\n    }\n  }\n\n  Headers.prototype.append = function(name, value) {\n    name = normalizeName(name)\n    value = normalizeValue(value)\n    var list = this.map[name]\n    if (!list) {\n      list = []\n      this.map[name] = list\n    }\n    list.push(value)\n  }\n\n  Headers.prototype['delete'] = function(name) {\n    delete this.map[normalizeName(name)]\n  }\n\n  Headers.prototype.get = function(name) {\n    var values = this.map[normalizeName(name)]\n    return values ? values[0] : null\n  }\n\n  Headers.prototype.getAll = function(name) {\n    return this.map[normalizeName(name)] || []\n  }\n\n  Headers.prototype.has = function(name) {\n    return this.map.hasOwnProperty(normalizeName(name))\n  }\n\n  Headers.prototype.set = function(name, value) {\n    this.map[normalizeName(name)] = [normalizeValue(value)]\n  }\n\n  Headers.prototype.forEach = function(callback, thisArg) {\n    Object.getOwnPropertyNames(this.map).forEach(function(name) {\n      this.map[name].forEach(function(value) {\n        callback.call(thisArg, value, name, this)\n      }, this)\n    }, this)\n  }\n\n  function consumed(body) {\n    if (body.bodyUsed) {\n      return Promise.reject(new TypeError('Already read'))\n    }\n    body.bodyUsed = true\n  }\n\n  function fileReaderReady(reader) {\n    return new Promise(function(resolve, reject) {\n      reader.onload = function() {\n        resolve(reader.result)\n      }\n      reader.onerror = function() {\n        reject(reader.error)\n      }\n    })\n  }\n\n  function readBlobAsArrayBuffer(blob) {\n    var reader = new FileReader()\n    reader.readAsArrayBuffer(blob)\n    return fileReaderReady(reader)\n  }\n\n  function readBlobAsText(blob) {\n    var reader = new FileReader()\n    reader.readAsText(blob)\n    return fileReaderReady(reader)\n  }\n\n  var support = {\n    blob: 'FileReader' in self && 'Blob' in self && (function() {\n      try {\n        new Blob();\n        return true\n      } catch(e) {\n        return false\n      }\n    })(),\n    formData: 'FormData' in self,\n    arrayBuffer: 'ArrayBuffer' in self\n  }\n\n  function Body() {\n    this.bodyUsed = false\n\n\n    this._initBody = function(body) {\n      this._bodyInit = body\n      if (typeof body === 'string') {\n        this._bodyText = body\n      } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {\n        this._bodyBlob = body\n      } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {\n        this._bodyFormData = body\n      } else if (!body) {\n        this._bodyText = ''\n      } else if (support.arrayBuffer && ArrayBuffer.prototype.isPrototypeOf(body)) {\n        // Only support ArrayBuffers for POST method.\n        // Receiving ArrayBuffers happens via Blobs, instead.\n      } else {\n        throw new Error('unsupported BodyInit type')\n      }\n\n      if (!this.headers.get('content-type')) {\n        if (typeof body === 'string') {\n          this.headers.set('content-type', 'text/plain;charset=UTF-8')\n        } else if (this._bodyBlob && this._bodyBlob.type) {\n          this.headers.set('content-type', this._bodyBlob.type)\n        }\n      }\n    }\n\n    if (support.blob) {\n      this.blob = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return Promise.resolve(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as blob')\n        } else {\n          return Promise.resolve(new Blob([this._bodyText]))\n        }\n      }\n\n      this.arrayBuffer = function() {\n        return this.blob().then(readBlobAsArrayBuffer)\n      }\n\n      this.text = function() {\n        var rejected = consumed(this)\n        if (rejected) {\n          return rejected\n        }\n\n        if (this._bodyBlob) {\n          return readBlobAsText(this._bodyBlob)\n        } else if (this._bodyFormData) {\n          throw new Error('could not read FormData body as text')\n        } else {\n          return Promise.resolve(this._bodyText)\n        }\n      }\n    } else {\n      this.text = function() {\n        var rejected = consumed(this)\n        return rejected ? rejected : Promise.resolve(this._bodyText)\n      }\n    }\n\n    if (support.formData) {\n      this.formData = function() {\n        return this.text().then(decode)\n      }\n    }\n\n    this.json = function() {\n      return this.text().then(JSON.parse)\n    }\n\n    return this\n  }\n\n  // HTTP methods whose capitalization should be normalized\n  var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']\n\n  function normalizeMethod(method) {\n    var upcased = method.toUpperCase()\n    return (methods.indexOf(upcased) > -1) ? upcased : method\n  }\n\n  function Request(input, options) {\n    options = options || {}\n    var body = options.body\n    if (Request.prototype.isPrototypeOf(input)) {\n      if (input.bodyUsed) {\n        throw new TypeError('Already read')\n      }\n      this.url = input.url\n      this.credentials = input.credentials\n      if (!options.headers) {\n        this.headers = new Headers(input.headers)\n      }\n      this.method = input.method\n      this.mode = input.mode\n      if (!body) {\n        body = input._bodyInit\n        input.bodyUsed = true\n      }\n    } else {\n      this.url = input\n    }\n\n    this.credentials = options.credentials || this.credentials || 'omit'\n    if (options.headers || !this.headers) {\n      this.headers = new Headers(options.headers)\n    }\n    this.method = normalizeMethod(options.method || this.method || 'GET')\n    this.mode = options.mode || this.mode || null\n    this.referrer = null\n\n    if ((this.method === 'GET' || this.method === 'HEAD') && body) {\n      throw new TypeError('Body not allowed for GET or HEAD requests')\n    }\n    this._initBody(body)\n  }\n\n  Request.prototype.clone = function() {\n    return new Request(this)\n  }\n\n  function decode(body) {\n    var form = new FormData()\n    body.trim().split('&').forEach(function(bytes) {\n      if (bytes) {\n        var split = bytes.split('=')\n        var name = split.shift().replace(/\\+/g, ' ')\n        var value = split.join('=').replace(/\\+/g, ' ')\n        form.append(decodeURIComponent(name), decodeURIComponent(value))\n      }\n    })\n    return form\n  }\n\n  function headers(xhr) {\n    var head = new Headers()\n    var pairs = xhr.getAllResponseHeaders().trim().split('\\n')\n    pairs.forEach(function(header) {\n      var split = header.trim().split(':')\n      var key = split.shift().trim()\n      var value = split.join(':').trim()\n      head.append(key, value)\n    })\n    return head\n  }\n\n  Body.call(Request.prototype)\n\n  function Response(bodyInit, options) {\n    if (!options) {\n      options = {}\n    }\n\n    this.type = 'default'\n    this.status = options.status\n    this.ok = this.status >= 200 && this.status < 300\n    this.statusText = options.statusText\n    this.headers = options.headers instanceof Headers ? options.headers : new Headers(options.headers)\n    this.url = options.url || ''\n    this._initBody(bodyInit)\n  }\n\n  Body.call(Response.prototype)\n\n  Response.prototype.clone = function() {\n    return new Response(this._bodyInit, {\n      status: this.status,\n      statusText: this.statusText,\n      headers: new Headers(this.headers),\n      url: this.url\n    })\n  }\n\n  Response.error = function() {\n    var response = new Response(null, {status: 0, statusText: ''})\n    response.type = 'error'\n    return response\n  }\n\n  var redirectStatuses = [301, 302, 303, 307, 308]\n\n  Response.redirect = function(url, status) {\n    if (redirectStatuses.indexOf(status) === -1) {\n      throw new RangeError('Invalid status code')\n    }\n\n    return new Response(null, {status: status, headers: {location: url}})\n  }\n\n  self.Headers = Headers;\n  self.Request = Request;\n  self.Response = Response;\n\n  self.fetch = function(input, init) {\n    return new Promise(function(resolve, reject) {\n      var request\n      if (Request.prototype.isPrototypeOf(input) && !init) {\n        request = input\n      } else {\n        request = new Request(input, init)\n      }\n\n      var xhr = new XMLHttpRequest()\n\n      function responseURL() {\n        if ('responseURL' in xhr) {\n          return xhr.responseURL\n        }\n\n        // Avoid security warnings on getResponseHeader when not allowed by CORS\n        if (/^X-Request-URL:/m.test(xhr.getAllResponseHeaders())) {\n          return xhr.getResponseHeader('X-Request-URL')\n        }\n\n        return;\n      }\n\n      xhr.onload = function() {\n        var status = (xhr.status === 1223) ? 204 : xhr.status\n        if (status < 100 || status > 599) {\n          reject(new TypeError('Network request failed'))\n          return\n        }\n        var options = {\n          status: status,\n          statusText: xhr.statusText,\n          headers: headers(xhr),\n          url: responseURL()\n        }\n        var body = 'response' in xhr ? xhr.response : xhr.responseText;\n        resolve(new Response(body, options))\n      }\n\n      xhr.onerror = function() {\n        reject(new TypeError('Network request failed'))\n      }\n\n      xhr.open(request.method, request.url, true)\n\n      if (request.credentials === 'include') {\n        xhr.withCredentials = true\n      }\n\n      if ('responseType' in xhr && support.blob) {\n        xhr.responseType = 'blob'\n      }\n\n      request.headers.forEach(function(value, name) {\n        xhr.setRequestHeader(name, value)\n      })\n\n      xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)\n    })\n  }\n  self.fetch.polyfill = true\n})(typeof self !== 'undefined' ? self : this);\n","import { ifInline, matches } from '../utils'\nimport regex from '../regex'\nimport 'whatwg-fetch'\n\nexport default class Gmap {\n    constructor(input, output, options, embeds) {\n        this.input = input;\n        this.output = output;\n        this.options = options;\n        this.embeds = embeds;\n        this.service = 'map';\n        this.regex = regex.gmap;\n    }\n\n    /**\n     * Takes the location name and returns the coordinates of that location using the Google\n     * Map API v3. This is an async function so it will return a promise.\n     * @param  {string} location The name of any location\n     * @return {array}           Returns an array in the form [latitude, longitude]\n     */\n    static getCoordinate(location) {\n        let url = `http://maps.googleapis.com/maps/api/geocode/json?address=${location}&sensor=false`;\n        return new Promise((resolve) => {\n            fetch(url)\n                .then((data) => data.json())\n                .then((json) => resolve([json.results[0].geometry.location.lat, json.results[0].geometry.location.lng]))\n        })\n    }\n\n    /**\n     * Returns the template of the Map widget. The source of the iframe is based on whether the\n     * mode set in options is 'place', 'streetview' or 'view'.\n     * @param  {string} match     The matching string in the form of @(location name).\n     * @param  {number} latitude  Latitude of the location\n     * @param  {number} longitude Longitude of the location\n     * @param  {object} options   plugin options\n     * @return {string}           Template of the map widget.\n     */\n    static template(match, latitude, longitude, options) {\n        let location = Gmap.locationText(match);\n        let config = options.mapOptions;\n        if (config.mode === 'place') {\n            return `<div class=\"ejs-embed ejs-map\"><iframe width=\"${options.videoWidth}\" height=\"${options.videoHeight}\" src=\"https://www.google.com/maps/embed/v1/place?key=${options.googleAuthKey}&q=${location}\"></iframe></div>`;\n        } else if (config.mode === 'streetview') {\n            return `<div class=\"ejs-embed ejs-map\"><iframe width=\"${options.videoWidth}\" height=\"${options.videoHeight}\" src=\"https://www.google.com/maps/embed/v1/streetview?key=${options.googleAuthKey}&location=${latitude},${longitude}&heading=210&pitch=10&fov=35\"></iframe></div>`;\n        } else if (config.mode === 'view') {\n            return `<div class=\"ejs-embed ejs-map\"><iframe width=\"${options.videoWidth}\" height=\"${options.videoHeight}\" src=\"https://www.google.com/maps/embed/v1/view?key=${options.googleAuthKey}&center=${latitude},${longitude}&zoom=18&maptype=satellite\"></iframe></div>`\n        }\n    }\n\n    /**\n     * Extracts out the location name from the format @(locationName)\n     * @param  {string} match The string in the supported format. Eg : @(Delhi)\n     * @return {string}       Only the location name removing @ and brackets. Eg: Delhi\n     */\n    static locationText(match) {\n        return match.split('(')[1].split(')')[0]\n    }\n\n    process() {\n        let match, promises = [],\n            allMatches = [];\n        while ((match = matches(this.regex, this.output)) !== null) {\n            this.options.served.push(match);\n            let promise = this.options.mapOptions.mode !== 'place' ? Gmap.getCoordinate(match[0]) : Promise.resolve([null, null]);\n            promises.push(promise);\n            allMatches.push(match)\n        }\n\n        return new Promise((resolve) => {\n            Promise.all(promises).then((coordinatesArr) => {\n                for (var i in promises) {\n                    let [latitude, longitude] = coordinatesArr[i];\n                    let text = Gmap.template((allMatches[i])[0], latitude, longitude, this.options);\n                    if (ifInline(this.options, this.service)) {\n                        this.output = this.output.replace(this.regex, (regexMatch) => {\n                            return `<span class=\"ejs-location\">${Gmap.locationText(regexMatch)}</span>${text}`\n                        })\n                    } else {\n                        this.embeds.push({\n                            text: text,\n                            index: allMatches[i][0].index\n                        });\n                        this.output = this.output.replace(this.regex, (regexMatch) => {\n                            return `<span class=\"ejs-location\">${Gmap.locationText(regexMatch)}</span>`\n                        });\n                    }\n                }\n                resolve([this.output, this.embeds])\n            })\n        })\n    }\n}\n","export default class Markdown {\n\tconstructor(output, options) {\n\t\tif (!options.plugins.marked) throw new ReferenceError(`marked.js is not loaded.`);\n\t\tthis.output  = output;\n\t\tthis.options = options;\n\t}\n\n\tprocess() {\n\t\tconst Marked = this.options.plugins.marked;\n\t\tlet renderer = new Marked.Renderer();\n\n\t\trenderer.link = (href, title, text) => {\n\t\t\tif (href.indexOf('&lt;/a') === -1) return href;\n\t\t\tif (href.match(/&gt;(.+)&lt;\\/a/gi)) {\n\t\t\t\tif (!title) title = '';\n\t\t\t\treturn `<a href=\"${RegExp.$1}\" rel=${this.options.linkOptions.rel}\" target=\"${this.options.linkOptions.target}\" title=\"${title}\">${text}</a>`\n\t\t\t}\n\t\t};\n\n\t\trenderer.image = (href, title, text) => {\n\t\t\tif (href.indexOf('&lt;/a') === -1) return href;\n\t\t\tif (href.match(/&gt;(.+)&lt;\\/a/gi)) {\n\t\t\t\tif (!title) title = '';\n\t\t\t\treturn `<div class=\"ejs-image ejs-embed\"><div class=\"ne-image-wrapper\"><img src=\"${RegExp.$1}\" title=\"${title}\" alt=\"${text}\"/></div></div>`\n\t\t\t}\n\t\t};\n\n\t\trenderer.paragraph = (text) => `<p> ${text} </p>`; //for font smiley in end.\n\n\t\t//Fix for heading that should be actually present in marked.js\n\t\t//if gfm is true the `## Heading` is acceptable but `##Heading` is not\n\t\tMarked.Lexer.rules.gfm.heading    = Marked.Lexer.rules.normal.heading;\n\t\tMarked.Lexer.rules.tables.heading = Marked.Lexer.rules.normal.heading;\n\n\t\tthis.options.markedOptions.renderer = renderer;\n\t\tthis.options.markedOptions.highlight = false;\n\t\treturn Marked(this.output, this.options.markedOptions)\n\t}\n}\n","import regex from '../regex'\n\nexport default class Highlight {\n\tconstructor(output, options) {\n\t\tif (!options.plugins.highlightjs && !this.isPrism()) {\n\t\t\tthrow new ReferenceError(\n\t\t\t\t`'hljs is not defined. HighlightJS library is needed to highlight code. Visit https://highlightjs.org/'`\n\t\t\t);\n\t\t}\n\n\t\tthis.output          = output;\n\t\tthis.options         = options;\n\t\tthis.regex           = regex.highlightCode;\n\t\tthis.inlineCodeRegex = regex.inlineCode;\n\t}\n\n\t/**\n\t * Encodes the characters like <, > and space and replaces them with\n\t * &lt;, &gt; and &gt; respectively.\n\t * @param  {string} code The string that has to be encoded.\n\t * @return {string}      The encoded string\n\t */\n\tstatic encode(code) {\n\t\tcode = code.replace(/&amp;/gm, '');\n\t\tcode = code.replace(/&lt;/g, '<');\n\t\tcode = code.replace(/&gt;/g, '>');\n\t\treturn code;\n\t}\n\n\t/**\n\t * removes whitespace characters\n\t * @param  {string} code The string from which the whitespace has to be removed\n\t * @return {string}\n\t */\n\tstatic trimSpace(code) {\n\t\tcode = code.replace(/^([ \\t]*)/g, ''); // leading whitespace\n\t\tcode = code.replace(/[ \\t]*$/g, ''); // trailing whitespace\n\t\treturn code;\n\t}\n\n\t/**\n\t * Places the code and the language name in the required template\n\t * @param {string} processedCode\n\t * @param {string} language\n\t * @return {string}\n\t */\n\tstatic addTemplate(processedCode, language) {\n\t\treturn `<pre><code class=\"ejs-code hljs ${language}\">${processedCode.value || processedCode}</code></pre>`\n\t}\n\n\t/**\n\t * Replaces the code block with the pre tags and returns a string having the code\n\t * formatting using Highlight.js.\n\t * => Matches the string with the regex and finds the code written in three back-ticks ```\n\t * => Detects whether any language has been provided by the user.\n\t *     The format supported by embed.js is\n\t *         ```[language-name]\n\t *         var a = 2;\n\t *         ```\n\t * => Trims all the unnecessary spaces and newlines from the code.\n\t * => Passes the code to `hljs.highlightAuto(code, language)` which returns a formatted string\n\t *     having the html tags for styling. The `language` here is optional. In case we don't pass the\n\t *     language, it tries to detect the language itself.\n\t * => Replaces the code string in the template with the formatted string\n\t * @return {string} The string in which the code is formatted\n\t */\n\tprocess() {\n\t\tthis.output = this.output.replace(this.inlineCodeRegex, function (match, group1, group2) {\n\t\t\treturn `<code>${group2}</code>`\n\t\t});\n\n\t\treturn this.output.replace(this.regex, (match, group1, group2, group3) => {\n\t\t\tlet code = group3;\n\t\t\tcode     = Highlight.trimSpace(code);\n\t\t\tcode     = Highlight.encode(code);\n\n\t\t\t// to prevent auto-linking. Not necessary in code\n\t\t\t// *blocks*, but in code spans. Will be converted\n\t\t\t// back after the auto-linker runs.\n\t\t\tcode = code.replace(/:\\/\\//g, '~P');\n\n\t\t\tlet language = group2.split('\\n')[0];\n\t\t\tlet highlightedCode;\n\n\t\t\tconst HighlightJS = this.options.plugins.highlightjs;\n\t\t\tif (language) {\n\t\t\t\thighlightedCode = HighlightJS.highlightAuto(code, [language]);\n\t\t\t} else {\n\t\t\t\thighlightedCode = HighlightJS.highlightAuto(code);\n\t\t\t\tlanguage        = highlightedCode.language;\n\t\t\t}\n\n\t\t\treturn Highlight.addTemplate(highlightedCode, language);\n\n\t\t});\n\t}\n}\n\n","import regex from '../regex'\nimport { embed } from '../../helpers'\n\nexport default class Gist {\n\tconstructor(input, output, options, embeds) {\n\t\tthis.input   = input;\n\t\tthis.output  = output;\n\t\tthis.options = options;\n\t\tthis.embeds  = embeds;\n\t\tthis.regex   = regex.gist;\n\t\tthis.service = 'gist';\n\n\t\tif(typeof this.options.input !== 'string'){\n\t\t\tthis.options.input.addEventListener('rendered', () => {\n\t\t\t\tthis.load()\n\t\t\t})\n\t\t}\n\t}\n\n\ttemplate(match) {\n\t\treturn `<div class=\"ejs-gist\" data-src=\"${match}\"></div>`\n\t}\n\n\tload() {\n\t\tlet gists = this.options.input.getElementsByClassName('ejs-gist');\n\t\tfor (let i = 0; i < gists.length; i++) {\n\t\t\tlet gistFrame = document.createElement(\"iframe\");\n\t\t\tgistFrame.setAttribute(\"width\", \"100%\");\n\t\t\tgistFrame.id = `ejs-gist-${i}`;\n\n\t\t\tlet zone       = gists[i];\n\t\t\tzone.innerHTML = \"\";\n\t\t\tzone.appendChild(gistFrame);\n\n\t\t\t// Create the iframe's document\n\t\t\tlet url           = gists[i].getAttribute('data-src');\n\t\t\turl               = url.indexOf('http') === -1 ? `https://${url}` : url;\n\t\t\tlet gistFrameHTML = `<html><base target=\"_parent\"/><body onload=\"parent.document.getElementById('ejs-gist-${i}').style.height=parseInt(document.body.scrollHeight)+20+'px'\"><script type=\"text/javascript\" src=\"${url}.js\"></script></body></html>`;\n\n\t\t\t// Set iframe's document with a trigger for this document to adjust the height\n\t\t\tlet gistFrameDoc = gistFrame.document;\n\n\t\t\tif (gistFrame.contentDocument) {\n\t\t\t\tgistFrameDoc = gistFrame.contentDocument;\n\t\t\t} else if (gistFrame.contentWindow) {\n\t\t\t\tgistFrameDoc = gistFrame.contentWindow.document;\n\t\t\t}\n\n\t\t\tgistFrameDoc.open();\n\t\t\tgistFrameDoc.writeln(gistFrameHTML);\n\t\t\tgistFrameDoc.close();\n\t\t}\n\t}\n\n\tprocess() {\n\t\treturn embed(this);\n\t}\n}\n","import { truncate } from '../utils'\nimport { getDetailsTemplate, template, asyncEmbed } from '../../helpers'\nimport 'whatwg-fetch'\nimport regex from '../regex'\n\nexport default class Youtube {\n\tconstructor(input, output, options, embeds) {\n\t\tthis.input   = input;\n\t\tthis.output  = output;\n\t\tthis.options = options;\n\t\tthis.embeds  = embeds;\n\t\tthis.regex   = regex.youtube;\n\t\tthis.service = 'youtube'\n\t}\n\n\tstatic formatData(data, truncate) {\n\t\treturn {\n\t\t\ttitle         : data.snippet.title,\n\t\t\tthumbnail     : data.snippet.thumbnails.medium.url,\n\t\t\trawDescription: data.snippet.description,\n\t\t\tviews         : data.statistics.viewCount,\n\t\t\tlikes         : data.statistics.likeCount,\n\t\t\tdescription   : truncate(data.snippet.description, 150),\n\t\t\turl           : `https://www.youtube.com/watch?v=${data.id}`,\n\t\t\tid            : data.id,\n\t\t\thost          : 'youtube'\n\t\t}\n\t}\n\n\tdata(id) {\n\t\tlet url      = `https://www.googleapis.com/youtube/v3/videos?id=${id}&key=${this.options.googleAuthKey}&part=snippet,statistics`;\n\t\treturn new Promise((resolve) => {\n\t\t\tfetch(url)\n\t\t\t.then((data) => data.json())\n\t\t\t.then((json) => resolve(json.items[0]))\n\t\t})\n\t}\n\n\tstatic urlToText(_this, match, url, normalEmbed) {\n\t\tlet id       = normalEmbed ? match[1] : match[2];\n\t\tlet embedUrl = `https://www.youtube.com/embed/${id}`;\n\t\tif (_this.options.videoDetails) {\n\t\t\treturn new Promise((resolve) => {\n\t\t\t\t_this.data(id).then((data) => resolve(getDetailsTemplate(Youtube.formatData(data, truncate), data, embedUrl, _this.options)))\n\t\t\t})\n\t\t} else {\n\t\t\treturn new Promise((resolve) => resolve(template(embedUrl, _this.options)))\n\t\t}\n\t}\n\n\tprocess() {\n\t\treturn new Promise((resolve) => asyncEmbed(this, Youtube.urlToText).then((data) => resolve(data)))\n\t}\n}\n\n","import { truncate } from '../utils'\nimport { getDetailsTemplate, template, asyncEmbed } from '../../helpers'\nimport 'whatwg-fetch'\nimport regex from '../regex'\n\n\nexport default class Vimeo {\n\tconstructor(input, output, options, embeds) {\n\t\tthis.input   = input;\n\t\tthis.output  = output;\n\t\tthis.options = options;\n\t\tthis.embeds  = embeds;\n\t\tthis.regex   = regex.vimeo;\n\t\tthis.service = 'vimeo'\n\t}\n\n\tstatic formatData(data, truncate) {\n\t\treturn {\n\t\t\ttitle         : data.title,\n\t\t\tthumbnail     : data.thumbnail_medium,\n\t\t\trawDescription: data.description.replace(/\\n/g, '<br/>').replace(/&#10;/g, '<br/>'),\n\t\t\tviews         : data.stats_number_of_plays,\n\t\t\tlikes         : data.stats_number_of_likes,\n\t\t\tdescription   : truncate(data.description.replace(/((<|&lt;)br\\s*\\/*(>|&gt;)\\r\\n)/g, ' '), 150),\n\t\t\turl           : data.url,\n\t\t\tid            : data.id,\n\t\t\thost          : 'vimeo'\n\t\t}\n\t}\n\n\tdata(id) {\n\t\tlet url = `https://vimeo.com/api/v2/video/${id}.json`;\n\t\treturn new Promise((resolve) => {\n\t\t\tfetch(url)\n\t\t\t\t.then((data) => data.json())\n\t\t\t\t.then((json) => resolve(json[0]))\n\t\t})\n\t}\n\n\tstatic urlToText(_this, match, url, normalEmbed) {\n\t\tlet id;\n\t\tif (!normalEmbed) {\n\t\t\tid = _this.options.link ? match[0].slice(0, -4).split('/').slice(-1).pop() : match[0].split('/').slice(-1).pop();\n\t\t} else {\n\t\t\tid = match[3]\n\t\t}\n\t\tif (!id) return;\n\t\tlet embedUrl = `https://player.vimeo.com/video/${id}`;\n\t\tif (_this.options.videoDetails) {\n\t\t\treturn new Promise((resolve) => {\n\t\t\t\t_this.data(id).then((data) => resolve(getDetailsTemplate(Vimeo.formatData(data, truncate), data, embedUrl, _this.options)))\n\t\t\t})\n\t\t} else {\n\t\t\treturn new Promise((resolve) => resolve(template(embedUrl, _this.options)))\n\t\t}\n\n\t}\n\n\tprocess() {\n\t\treturn new Promise((resolve) => asyncEmbed(this, Vimeo.urlToText).then((data) => resolve(data)))\n\n\t}\n}\n","import { asyncEmbed } from '../../helpers'\nimport fetchJsonp     from 'fetch-jsonp'\nimport regex from '../regex'\n\nexport default class SlideShare {\n\tconstructor(input, output, options, embeds) {\n\t\tthis.input   = input;\n\t\tthis.output  = output;\n\t\tthis.options = options;\n\t\tthis.embeds  = embeds;\n\t\tthis.regex   = regex.slideShare;\n\t\tthis.service = 'slideshare';\n\t}\n\n\tstatic fetchData(_this, url) {\n\t\tlet api          = `http://www.slideshare.net/api/oembed/2?url=${url}&format=jsonp&maxwidth=${_this.options.videoWidth}&maxheight=${_this.options.videoHeight}`;\n\t\treturn new Promise((resolve) => {\n\t\t\tfetchJsonp(api, {credentials: 'include'})\n\t\t\t\t.then((data) => data.json())\n\t\t\t\t.then((json) => resolve(json.html))\n\t\t})\n\t}\n\n\ttemplate(html) {\n\t\treturn this.options.template.slideShare(html, this.options)\n\t}\n\n\tstatic urlToText(_this, match, url) {\n\t\treturn new Promise((resolve) => {\n\t\t\tSlideShare.fetchData(_this, url).then((html) => resolve(_this.template(html)))\n\t\t})\n\t}\n\n\tprocess() {\n\t\treturn new Promise((resolve) => asyncEmbed(this, SlideShare.urlToText).then((data) => resolve(data)))\n\t}\n}\n","import { urlRegex } from './utils'\nimport { asyncEmbed } from '../helpers'\nimport 'whatwg-fetch'\n\nexport default class OpenGraph {\n\tconstructor(input, output, options, embeds) {\n\t\tthis.input        = input;\n\t\tthis.output       = output;\n\t\tthis.options      = options;\n\t\tthis.embeds       = embeds;\n\t\tthis.service      = 'opengraph';\n\t\tthis.regex        = urlRegex();\n\t\tthis.excludeRegex = new RegExp(['.mp4|.mp3|.gif|.pdf|.doc|.ppt|.docx|.jpg|.jpeg|.ogg'].concat(options.openGraphExclude).join('|'), 'gi')\n\t}\n\n\ttemplate(data) {\n\t\treturn this.options.template.openGraph(data, this.options)\n\t}\n\n\tstatic fetchData(url, _) {\n\t\turl     = encodeURIComponent(url);\n\t\tlet api = new Function('url', 'return `' + _.options.openGraphEndpoint + '`')(url);\n\t\treturn new Promise((resolve) => {\n\t\t\tfetch(api)\n\t\t\t\t.then((res)=>res.json())\n\t\t\t\t.then((json)=>resolve(_.options.onOpenGraphFetch(json) || json))\n\t\t})\n\t}\n\n\tstatic urlToText(_, match, url) {\n\t\tif (url.match(_.excludeRegex)) return Promise.resolve();\n\n\t\treturn new Promise((resolve) => {\n\t\t\tOpenGraph.fetchData(url, _).then((data) => resolve(data && data.success ? _.template(data) : ''))\n\t\t})\n\t}\n\n\n\tprocess() {\n\t\treturn new Promise((resolve) => asyncEmbed(this, OpenGraph.urlToText).then((data) => resolve(data)))\n\t}\n}\n","import { asyncEmbed } from '../helpers'\nimport regex from './regex'\nimport 'whatwg-fetch'\n\nexport default class Github {\n\tconstructor(input, output, options, embeds) {\n\t\tthis.input   = input;\n\t\tthis.output  = output;\n\t\tthis.options = options;\n\t\tthis.embeds  = embeds;\n\t\tthis.service = 'github';\n\t\tthis.regex   = regex.github;\n\t}\n\n\tstatic fetchRepo(data) {\n\t\tlet api = `https://api.github.com/repos/${data.user}/${data.repo}`;\n\t\treturn new Promise((resolve) => {\n\t\t\tfetch(api)\n\t\t\t\t.then(function (data) {\n\t\t\t\t\treturn data.json()\n\t\t\t\t})\n\t\t\t\t.then(function (json) {\n\t\t\t\t\treturn resolve(json)\n\t\t\t\t})\n\t\t})\n\t}\n\n\tstatic template(data, options) {\n\t\treturn options.template.github(data, options);\n\t}\n\n\tstatic urlToText(_this, match, url, normalEmbed) {\n\t\tlet data = !normalEmbed ? ({\n\t\t\tuser: match[2],\n\t\t\trepo: match[3]\n\t\t}) : ({\n\t\t\tuser: match[1],\n\t\t\trepo: match[2]\n\t\t});\n\n\t\tif (!data.repo) return;\n\t\treturn new Promise(function (resolve) {\n\t\t\tGithub.fetchRepo(data)\n\t\t\t\t.then(function (response) {\n\t\t\t\t\treturn resolve(Github.template(response, _this.options))\n\t\t\t\t})\n\t\t})\n\t}\n\n\tprocess() {\n\t\treturn new Promise((resolve) => asyncEmbed(this, Github.urlToText).then((data) => resolve(data)))\n\t}\n}\n","import {ifEmbed, createText, deepExtend, cloneObject, processOptions} from './modules/utils'\n\nimport Renderer    from './modules/template'\n\nimport Emoji       from './modules/emoticons/emoji'\nimport Smiley      from './modules/emoticons/smiley'\nimport Url         from './modules/url'\n\nimport Twitter     from './modules/twitter/twitter'\nimport Gmap        from './modules/map/map'\nimport Markdown    from './modules/markdown'\n\nimport Highlight   from './modules/code/highlight'\nimport Gist        from './modules/code/gist'\n\nimport Youtube     from './modules/video/youtube'\nimport Vimeo       from './modules/video/vimeo'\n\nimport SlideShare  from './modules/image/slideshare'\n\nimport OpenGraph   from './modules/openGraph'\nimport Github      from './modules/github'\n\nimport regex from './modules/regex'\n\nimport {applyVideoJS, playVideo, destroyVideos, baseEmbed} from './helpers'\n\nvar globalOptions = {};\n\nvar defaultOptions = {\n\tmarked                 : false,\n\tmarkedOptions          : {},\n\tlink                   : true,\n\tlinkOptions            : {\n\t\ttarget : 'self',\n\t\texclude: ['pdf'],\n\t\trel    : ''\n\t},\n\temoji                  : true,\n\tcustomEmoji            : [],\n\tfontIcons              : true,\n\tcustomFontIcons        : [],\n\thighlightCode          : false,\n\tvideoJS                : false,\n\tvideojsOptions         : {\n\t\tfluid  : true,\n\t\tpreload: 'metadata'\n\t},\n\tlocationEmbed          : true,\n\tmapOptions             : {\n\t\tmode: 'place'\n\t},\n\ttweetsEmbed            : false,\n\ttweetOptions           : {\n\t\tmaxWidth  : 550,\n\t\thideMedia : false,\n\t\thideThread: false,\n\t\talign     : 'none',\n\t\tlang      : 'en'\n\t},\n\tsingleEmbed            : false,\n\topenGraphEndpoint      : null,\n\topenGraphExclude       : [],\n\tvideoEmbed             : true,\n\tvideoHeight            : null,\n\tvideoWidth             : null,\n\tvideoDetails           : true,\n\taudioEmbed             : true,\n\timageEmbed             : true,\n\texcludeEmbed           : [],\n\tinlineEmbed            : [],\n\tinlineText             : true,\n\tcodeEmbedHeight        : 500,\n\tvineOptions            : {\n\t\tmaxWidth  : null,\n\t\ttype      : 'postcard', //'postcard' or 'simple' embedding\n\t\tresponsive: true,\n\t\twidth     : 350,\n\t\theight    : 460\n\t},\n\tplugins                : {\n\t\tmarked     : window.marked,\n\t\tvideojs    : window.videojs,\n\t\thighlightjs: window.hljs,\n\t\tprismjs    : window.Prism,\n\t\ttwitter    : window.twttr\n\t},\n\tgoogleAuthKey          : '',\n\tsoundCloudOptions      : {\n\t\theight      : 160,\n\t\tthemeColor  : 'f50000', //Hex Code of the player theme color\n\t\tautoPlay    : false,\n\t\thideRelated : false,\n\t\tshowComments: true,\n\t\tshowUser    : true,\n\t\tshowReposts : false,\n\t\tvisual      : false, //Show/hide the big preview image\n\t\tdownload    : false //Show/Hide download buttons\n\t},\n\tvideoClickClass        : 'ejs-video-thumb',\n\tcustomVideoClickHandler: false,\n\tbeforeEmbedJSApply     : function () {\n\t},\n\tafterEmbedJSApply      : function () {\n\t},\n\tonVideoShow            : function () {\n\t},\n\tonTweetsLoad           : function () {\n\t},\n\tvideojsCallback        : function () {\n\t},\n\tonOpenGraphFetch       : function () {\n\t},\n\tonOpenGraphFail        : function () {\n\t},\n\tvideoClickHandler      : function () {\n\t},\n\tserved                 : [] //Private variable used to store processed urls so that they are not processed multiple times.\n};\n\nlet instances    = [];\nlet allInstances = [];\nlet promises     = [];\n\nexport default class EmbedJS {\n\t/**\n\t * The constructor takes two arguements. The first one is the options object and the second one is the\n\t * optional string . If the user wants to provide a string directly instead of the element, he can do that.\n\t * In case the user provides both the input element and the string, the input string will be taken from the element\n\t * and the provided string won't be processed.\n\t *\n\t * @param  {object} options The options object\n\t * @param template\n\t * @return {null}\n\t */\n\tconstructor(options, template) {\n\t\t/**\n\t\t * We have created a clone of the original options to make sure that the original object\n\t\t * isn't altered.\n\t\t */\n\t\tlet defOpts  = cloneObject(defaultOptions);\n\t\tlet globOpts = cloneObject(globalOptions);\n\n\t\t//merge global options with the default options\n\t\tlet globOptions = deepExtend(defOpts, globOpts);\n\n\t\t//deepExtend global options with the overriding options provided by the user as an options\n\t\t//object while creating a new instance of embed.js\n\t\tthis.options = deepExtend(globOptions, options);\n\n\t\tthis.options.template = template || new Renderer();\n\n\t\tif (!this.options.input || !(typeof this.options.input === 'string' || typeof this.options.input === 'object')) throw ReferenceError(\"You need to pass an element or the string that needs to be processed\");\n\n\t\tthis.input = (typeof this.options.input === 'object') ? this.options.input.innerHTML : this.options.input\n\n\t}\n\n\t/**\n\t * Processes the string and performs all the insertions and manipulations based on\n\t * the options and the input provided by the user. This returns a promise which is resolved once the result data is ready\n\t * @return {Promise} The processes resulting string\n\t */\n\tprocess() {\n\t\tconst input   = this.input;\n\t\tconst options = processOptions(this.options);\n\t\tlet embeds    = [];\n\t\tlet output    = input;\n\n\t\tthis.options.beforeEmbedJSApply();\n\n\t\treturn new Promise((resolve) => {\n\t\t\tif (options.link)\n\t\t\t\toutput = new Url(input, options).process();\n\n\t\t\tlet openGraphPromise = options.openGraphEndpoint ? new OpenGraph(input, output, options, embeds).process() : Promise.resolve([output, embeds]);\n\n\t\t\topenGraphPromise.then(function ([output, embeds]) {\n\t\t\t\tif (options.highlightCode) {\n\t\t\t\t\toutput = new Highlight(output, options).process()\n\t\t\t\t}\n\t\t\t\tif (options.marked) {\n\t\t\t\t\toutput = new Markdown(output, options).process()\n\t\t\t\t}\n\t\t\t\tif (options.emoji) {\n\t\t\t\t\toutput = new Emoji(output, options).process()\n\t\t\t\t}\n\t\t\t\tif (options.fontIcons) {\n\t\t\t\t\toutput = new Smiley(output, options).process()\n\t\t\t\t}\n\n\t\t\t\t[output, embeds] = baseEmbed(input, output, embeds, options, regex.ideone, 'ideone');\n\t\t\t\t[output, embeds] = baseEmbed(input, output, embeds, options, regex.plunker, 'plunker');\n\t\t\t\t[output, embeds] = baseEmbed(input, output, embeds, options, regex.jsbin, 'jsbin');\n\t\t\t\t[output, embeds] = baseEmbed(input, output, embeds, options, regex.codepen, 'codepen');\n\t\t\t\t[output, embeds] = baseEmbed(input, output, embeds, options, regex.jsfiddle, 'jsfiddle');\n\t\t\t\t[output, embeds] = baseEmbed(input, output, embeds, options, regex.ted, 'ted');\n\t\t\t\t[output, embeds] = baseEmbed(input, output, embeds, options, regex.dailymotion, 'dailymotion');\n\t\t\t\t[output, embeds] = baseEmbed(input, output, embeds, options, regex.ustream, 'ustream');\n\t\t\t\t[output, embeds] = baseEmbed(input, output, embeds, options, regex.liveleak, 'liveleak');\n\t\t\t\t[output, embeds] = baseEmbed(input, output, embeds, options, regex.basicVideo, 'video', options.videoEmbed);\n\t\t\t\t[output, embeds] = baseEmbed(input, output, embeds, options, regex.vine, 'vine');\n\t\t\t\t[output, embeds] = baseEmbed(input, output, embeds, options, regex.soundCloud, 'soundcloud');\n\t\t\t\t[output, embeds] = baseEmbed(input, output, embeds, options, regex.spotify, 'spotify');\n\t\t\t\t[output, embeds] = baseEmbed(input, output, embeds, options, regex.basicAudio, 'audio', options.audioEmbed);\n\t\t\t\t[output, embeds] = baseEmbed(input, output, embeds, options, regex.flickr, 'flickr');\n\t\t\t\t[output, embeds] = baseEmbed(input, output, embeds, options, regex.instagram, 'instagram');\n\t\t\t\t[output, embeds] = baseEmbed(input, output, embeds, options, regex.basicImage, 'image', options.imageEmbed);\n\n\t\t\t\tif (ifEmbed(options, 'gist')) {\n\t\t\t\t\t[output, embeds] = new Gist(input, output, options, embeds).process()\n\t\t\t\t}\n\n\t\t\t\treturn ifEmbed(options, 'youtube') ? new Youtube(input, output, options, embeds).process() : Promise.resolve([output, embeds]);\n\t\t\t}).then(function ([output, embeds]) {\n\t\t\t\treturn ifEmbed(options, 'vimeo') ? new Vimeo(input, output, options, embeds).process() : Promise.resolve([output, embeds]);\n\t\t\t}).then(function ([output, embeds]) {\n\t\t\t\treturn ifEmbed(options, 'github') ? new Github(input, output, options, embeds).process() : Promise.resolve([output, embeds]);\n\t\t\t}).then(function ([output, embeds]) {\n\t\t\t\treturn options.locationEmbed && ifEmbed(options, 'gmap') ? new Gmap(input, output, options, embeds).process() : Promise.resolve([output, embeds])\n\t\t\t}).then(function ([output, embeds]) {\n\t\t\t\treturn ifEmbed(options, 'slideshare') ? new SlideShare(input, output, options, embeds).process() : Promise.resolve([output, embeds]);\n\t\t\t}).then(([output, embeds]) => {\n\t\t\t\tif (options.tweetsEmbed && ifEmbed(options, 'twitter')) {\n\t\t\t\t\tthis.twitter = new Twitter(input, output, options, embeds);\n\t\t\t\t\treturn this.twitter.process()\n\t\t\t\t} else {\n\t\t\t\t\treturn Promise.resolve([output, embeds])\n\t\t\t\t}\n\t\t\t}).then(([output, embeds]) => {\n\t\t\t\tthis.data = {\n\t\t\t\t\tinput      : options.input,\n\t\t\t\t\toutput     : output,\n\t\t\t\t\toptions    : options,\n\t\t\t\t\tinputString: this.input,\n\t\t\t\t\t/**\n\n\t\t\t\t\t TODO:\n\t\t\t\t\t - Restructure served urls structure with services name\n\n\t\t\t\t\t */\n\n\t\t\t\t\tservices   : options.served,\n\t\t\t\t\ttemplate   : options.template\n\t\t\t\t};\n\n\t\t\t\tresolve(createText(output, embeds))\n\n\t\t\t})\n\t\t})\n\t}\n\n\t/**\n\t * First processes the data by calling the .process() and then renders the data in the div\n\t * => Loads the twitter widgets\n\t * => Executes the onTweetsLoad() once all the tweets have been rendered\n\t * => Applies video.js on the media (both audio and video)\n\t * => Triggers video loading on click of the video preview\n\t * => Executes afterEmbedJSApply() once everything is done.\n\t *\n\t * @return Promise\n\t */\n\trender() {\n\t\tif (typeof this.options.input === 'string') throw new Error(`You cannot call render method for a string`);\n\t\tif (!this.options.input) throw new Error(`You didn't pass an element while creating this instance. render() method can't work without an input element`);\n\n\t\treturn new Promise((resolve) => {\n\t\t\tthis.process().then((data) => {\n\t\t\t\tthis.options.input.innerHTML = data;\n\t\t\t\tthis.applyListeners();\n\t\t\t\tresolve(this.data);\n\t\t\t})\n\t\t})\n\t}\n\n\t/**\n\t * This method listens to all the events like click, handle\n\t * events to be done after an element has been rendered. These\n\t * include twitter widget rendering, gist embedding, click event listeners .\n\t */\n\tapplyListeners() {\n\t\tapplyVideoJS(this.options);\n\n\t\tplayVideo(this.options);\n\n\t\tlet event = new Event('rendered');\n\t\tthis.options.input.dispatchEvent(event);\n\n\t\tthis.options.afterEmbedJSApply();\n\t}\n\n\n\t/**\n\t * This function updates the parametrs of the current instance\n\t * @param options   New updated options object. will be extended with the older options\n\t * @param template  [optional] the new template instance\n\t */\n\tupdate(options, template) {\n\n\t\tif (options)\n\t\t\tthis.options = deepExtend(this.options, options);\n\n\t\tif (template)\n\t\t\tthis.options.template = template;\n\n\t\tif (!this.options.input || !(typeof this.options.input === 'string' || typeof this.options.input === 'object')) throw ReferenceError(\"You need to pass an element or the string that needs to be processed\");\n\n\t\tthis.input = (typeof this.options.input === 'object') ? this.options.input.innerHTML : this.options.input\n\t}\n\n\t/**\n\t * returns the resulting string based on the input and the options passed by the user.\n\t * @return Promise\n\t */\n\ttext(callback) {\n\t\tthis.process().then((data)=> callback(data, this.input))\n\t}\n\n\t/**\n\t * The destroy method destroys all the listeners and replaces the rih text with the original text in the\n\t * element.\n\t * @return {null}\n\t */\n\tdestroy() {\n\t\tif (!this.element) throw new Error(`destroy() method only if an element had been passed in the options object`);\n\t\tdestroyVideos('ejs-video-thumb');\n\t\tthis.element.removeEventListener('rendered', this.twitter.load(), false);\n\t\tthis.element.innerHTML = this.input\n\t}\n\n\t/**\n\t * Sets options globally\n\t * @param {object} options\n\t */\n\tstatic setOptions(options) {\n\t\tglobalOptions = deepExtend(defaultOptions, options)\n\t}\n\n\t/**\n\t * Applies embed.js to all the elements with the class name provided as option\n\t * @return {Promise}\n\t * @param selectorName\n\t * @param options\n\t * @param template\n\t */\n\tstatic applyEmbedJS(selectorName, options = {}, template = (new Renderer())) {\n\t\tlet elements = document.querySelectorAll(selectorName);\n\t\tfor (let i = 0; i < elements.length; i++) {\n\t\t\toptions.input = elements[i];\n\t\t\tinstances[i]  = new EmbedJS(options, template);\n\t\t\tpromises[i]   = instances[i].render()\n\t\t}\n\t\treturn new Promise(function (resolve) {\n\t\t\tPromise.all(promises).then(function (val) {\n\t\t\t\tresolve(val);\n\t\t\t})\n\t\t})\n\t}\n\n\t/**\n\t * Destroys all the instances of EmbedJS created by using applyEmbedJS() method.\n\t * @return {null}\n\t */\n\tstatic destroyEmbedJS() {\n\t\tfor (let i = 0; i < instances.length; i++) {\n\t\t\tinstances[i].destroy()\n\t\t}\n\t}\n\n\t/**\n\t * Destroys all instances of EmbedJS on the page\n\t * @return {null}\n\t */\n\tstatic destroyAll() {\n\t\tfor (let i = 0; i < allInstances.length; i++) {\n\t\t\tallInstances[i].destroy()\n\t\t}\n\t}\n\n\t/**\n\t * Creates a new instance of the Template constructor. This has been done so that multiple\n\t * templates of a single service can be used by creating different instances of the Template.\n\t *\n\t * The usage of the plugin is described below.\n\t *\n\t * => Create a new Instance of the template by using .Template() method of EmbedJS.\n\t *\n\t *        var template = EmbedJS.Template()\n\t *\n\t * => Now create different templates for different service names.\n\t *\n\t *        template.url = function(match, options){\n     * \t\t\treturn '<a href=\" + match + \"> + match + </a>'\n     * \t\t}\n\t *\n\t *        template.instagram = function(match, dimensions, options){\n     * \t\t\tvar config = options.soundCloudOptions;\n     * \t\t\treturn `<div class=\"ejs-embed ejs-instagram\"><iframe src=\"${toUrl(match.split('/?')[0])}/embed/\" height=\"${dimensions.height}\"></iframe></div>`;\n     * \t\t}\n\t *\n\t */\n\tstatic Template() {\n\t\treturn new Renderer();\n\t}\n}\n"],"names":["this"],"mappings":"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"}